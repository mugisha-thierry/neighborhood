{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}
{% block content %}
<style>
    .card-img {
        width: 100%;
        height: 38vw;
        object-fit: cover;
    }

    .card-img-top {
        width: 100%;
        height: 15vw;
        object-fit: cover;
    }
</style>

<div id="carouselExampleControls" class="carousel slide d-none d-md-block" data-ride="carousel">
    <div class="carousel-inner">
        <div class="carousel-item active">
            <div class="card-img">
                <img class="d-block w-100"
                    src="https://stalbert.ca/site/assets/files/11242/2020-04-30-goodneighbourhood-websitebanner-final.jpg"
                    alt="First slide"></div>
            <div class="carousel-caption p-5 d-none d-md-block text-light" style="position: fixed; /* Sit on top of the page content */
      display: none; /* Hidden by default */
      width: 100%; /* Full width (cover the whole page) */
      height: 100%; /* Full height (cover the whole page) */
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba(0,0,0,0.5)">
                <h1 class="text-light m-5" style="margin-top: 50px;">Neighbourhood</h1>
                <h4>If you are like me, You really don’t know what is happening in your neighborhood most of the time.
                    <br> <i class="fab fa-creative-commons-sampling"></i><br> What if an important meeting happens,
                    theft or even death wouldn’t you like to know about it.</h4>

            </div>
        </div>

    </div>
</div>

</div>
<hr>

<div class="container">

    {% if neighbourhood_infrastructures %}
    <h3 class="text-center m-4" style="color: red;">Found {{ neighbourhood_infrastructures|length }} businesses</h3>
    {% else %}
    <h3 class="text-center m-4" style="color: red;">Found {{ neighbourhood_infrastructures|length }} businesses</h3>
    {% endif %}
  <hr>

  <div class="row justify-content-center">
    {% for infrastructure in neighbourhood_infrastructures %}

    <div class="card col-md-3 m-3">
      
      <div class="card-body">
        <h5 class="card-title"><span><strong>Department:</strong> {{infrastructure.department_name}}<br><strong>Name:</strong> {{infrastructure.infrastructure_name}}</h5>
        <p class="card-text"><small class="text-muted">What we do: {{infrastructure.infrastructure_description}}<br> Location: {{infrastructure.infrastructure_location}}, Email:{{infrastructure.email}}, Phone:{{infrastructure.phone}} </small></p>
      </div>
    </div>
    {% endfor %}
  </div>
</div>

{% endblock %}